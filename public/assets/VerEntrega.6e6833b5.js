import{Q as D}from"./QPage.bd9db12d.js";import{v as b,aM as V,c as x,q as a,z as l,t as d,d as i,A as t,ao as f,B as k,aa as s,ab as C,s as E,u,_ as w,C as Q,D as B,aq as I}from"./index.16fafb50.js";import{_ as S}from"./BreadcrumbNav.24a9f6cf.js";import{_ as z}from"./LoaderSpinner.196fa089.js";import{u as N}from"./useVerEntrega.01e10d24.js";import{Q as $,a as y}from"./QCard.9550f461.js";import{d as q}from"./date.eb8942c3.js";import"./useRecursoIndividual.f202693b.js";import"./documentosApi.d4af84c5.js";import"./axios.a596eead.js";import"./useQuery.esm.48506497.js";import"./useQueryClient.esm.ad4fb503.js";import"./utils.esm.429db25b.js";import"./use-dark.fd3c0586.js";import"./format.2bc25e5f.js";const _=o=>(Q("data-v-7e4bd105"),o=o(),B(),o),L={class:"fontsize-14 text-center text-weight-light flex items-center"},P=_(()=>t("td",null,"Residente:",-1)),R=_(()=>t("td",null,"Documento:",-1)),A=["href"],F=_(()=>t("td",null,"Fecha de entrega:",-1)),M=_(()=>t("td",null,[k(" Cumplimiento "),t("small",null,"(fecha de entrega - fecha l\xEDmite):")],-1)),T=b({__name:"CardEntrega",props:{entrega:{}},setup(o){const e=V(o,"entrega"),c=x(()=>{if(!e.value||!e.value.url_documento)return!1;const r=e.value.url_documento.split(".").pop();return["pdf"].includes(r.toLowerCase())}),m=x(()=>{if(!e.value||!e.value.url_documento)return!1;const r=e.value.url_documento.split(".").pop();return["doc","docx"].includes(r.toLowerCase())});return(r,v)=>(a(),l($,null,{default:d(()=>[i(y,null,{default:d(()=>{var n;return[t("div",L,[i(f,{name:"description",class:"q-mr-xs"}),k(" "+s((n=e.value.documento)==null?void 0:n.nombre_documento),1)])]}),_:1}),i(y,null,{default:d(()=>{var n,p,h;return[t("table",null,[t("tr",null,[P,t("td",null,s((n=e.value.estudiante)==null?void 0:n.nombre)+" "+s((p=e.value.estudiante)==null?void 0:p.apellidos),1)]),t("tr",null,[R,t("td",null,[t("span",null,[c.value?(a(),l(f,{key:0,size:"2rem",color:"red",name:"picture_as_pdf"})):m.value?(a(),l(f,{key:1,size:"2rem",color:"blue",name:"description"})):C("",!0),e.value.url_documento?(a(),E("a",{key:2,href:e.value.url_documento,download:""}," Descargar ",8,A)):C("",!0)])])]),t("tr",null,[F,t("td",null,s(e.value.fecha_entrega),1)]),t("tr",null,[M,t("td",null,s(u(q).getDateDiff(e.value.fecha_entrega||"",((h=e.value.documento)==null?void 0:h.fecha_limite)||"","days"))+" d\xEDas ",1)])])]}),_:1})]),_:1}))}});var W=w(T,[["__scopeId","data-v-7e4bd105"]]);const j={key:2},se=b({__name:"VerEntrega",setup(o){const g=I(),{id:e=""}=g.params,{resource:c,isLoading:m,error:r}=N(e+""),v=[{label:"Entregas",icon:"assignment_turned_in",to:"listar-entrega"},{label:"Ver entrega",icon:"visibility"}];return(n,p)=>(a(),l(D,{padding:""},{default:d(()=>[i(S,{pages:v,titlePage:"Ver entrega"}),u(m)?(a(),l(z,{key:0})):u(c)?(a(),l(W,{key:1,entrega:u(c)},null,8,["entrega"])):(a(),E("div",j,s(u(r)),1))]),_:1}))}});export{se as default};
