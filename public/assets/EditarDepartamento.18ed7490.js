import{Q as y}from"./QPage.bd9db12d.js";import{r as v,v as D,aq as h,x as k,q as n,z as c,t as S,d as x,u as e,s as z}from"./index.16fafb50.js";import{_ as E}from"./BreadcrumbNav.24a9f6cf.js";import{u as Q}from"./useVerDepartamento.49c353fc.js";import{_ as q}from"./LoaderSpinner.196fa089.js";import{_ as C}from"./FormDepartamento.c502a0c1.js";import{d as L}from"./documentosApi.d4af84c5.js";import{u as $}from"./useQueryClient.esm.ad4fb503.js";import{u as b}from"./useMutation.esm.3aac1ad5.js";import"./useQuery.esm.48506497.js";import"./utils.esm.429db25b.js";import"./QCard.9550f461.js";import"./use-dark.fd3c0586.js";import"./QBanner.f76ac382.js";import"./QInput.ec90feeb.js";import"./use-key-composition.749118dd.js";import"./uid.42677368.js";import"./focus-manager.05708ea9.js";import"./use-form.e491c393.js";import"./QForm.5f43623c.js";import"./errorUtils.9be85d5d.js";import"./axios.a596eead.js";import"./mutation.esm.54ea4acf.js";const w=async a=>{try{const{data:r}=await L.patch(`/departamentos/${a.id}`,a);return r}catch(r){throw r}},B=()=>{const a=$(),r=v(null),{mutate:i,isLoading:m,error:o,isSuccess:p}=b(w,{onSuccess:t=>{a.invalidateQueries({queryKey:["departamentos"],exact:!1}),a.setQueryData(["departamentos",t.id],t)},onError:t=>{var s;t.response?r.value=(s=t.response)==null?void 0:s.data:r.value=t}});return{actualizarDepartamento:i,isLoadingMutate:m,error:o,errorServer:r,isSuccess:p}},M={key:2},sr=D({__name:"EditarDepartamento",setup(a){const r=h(),{id:i=""}=r.params,m=k(),{departamento:o,isLoading:p}=Q(i+""),{actualizarDepartamento:t,isLoadingMutate:s,error:d,errorServer:l,isSuccess:f}=B(),_=u=>{t(u),f&&m.push({name:"listar-departamento"})},g=[{label:"Departamentos",icon:"account_balance",to:"listar-departamento"},{label:"Editar departamento",icon:"edit"}];return(u,A)=>(n(),c(y,{padding:""},{default:S(()=>[x(E,{pages:g,titlePage:"Editar departamento"}),e(p)?(n(),c(q,{key:0})):e(o)?(n(),c(C,{key:1,departamento:e(o),onGuardar:_,loading:e(s),error:e(d),errorServer:e(l)},null,8,["departamento","loading","error","errorServer"])):(n(),z("div",M,"Ocurri\xF3 un error al cargar"))]),_:1}))}});export{sr as default};
