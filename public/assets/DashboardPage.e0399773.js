import{Q as T}from"./QPage.bd9db12d.js";import{Q as b,a as x}from"./QCard.9550f461.js";import{Q as B}from"./QChip.fc1367d4.js";import{d as C}from"./documentosApi.d4af84c5.js";import{u as $}from"./useQuery.esm.48506497.js";import{_ as F}from"./LoaderSpinner.196fa089.js";import{v as k,y as V,q as t,z as p,t as d,d as i,A as r,u as a,s as o,F as f,ar as g,aa as _,B as q,aR as I,ab as h,_ as w,C as L,D as E,x as N,ad as z,ao as D}from"./index.16fafb50.js";import{Q as K}from"./QImg.f997db3b.js";import"./use-dark.fd3c0586.js";import"./axios.a596eead.js";import"./useQueryClient.esm.ad4fb503.js";import"./utils.esm.429db25b.js";const j=async()=>{const{data:e}=await C.get("tabla");return e},A=()=>{const{isLoading:e,isError:s,data:n,error:u}=$({queryKey:["tabla"],queryFn:j});return{isLoading:e,isError:s,data:n,error:u}};const S=e=>(L("data-v-3254320c"),e=e(),E(),e),P=S(()=>r("div",{class:"fontsize-14 text-center text-weight-light flex items-center"}," Lista de entrega de documentos ",-1)),G={key:1,class:"table-container"},H=S(()=>r("th",{class:"sticky-column"},"Estudiante",-1)),J={class:"sticky-column"},M={key:0},O={key:1},U={key:2},W=k({__name:"TablaEntregas",setup(e){const{data:s,isLoading:n,isError:u,error:y}=A();return(v,R)=>{const l=V("RouterLink");return t(),p(b,{class:"q-mt-md q-mb-md"},{default:d(()=>[i(x,null,{default:d(()=>[P]),_:1}),i(x,null,{default:d(()=>[r("div",null,[a(n)?(t(),p(F,{key:0})):a(s)?(t(),o("div",G,[r("table",null,[r("thead",null,[r("tr",null,[H,(t(!0),o(f,null,g(a(s).documentos,c=>(t(),o("th",{key:c.id,class:"vertical-text"},_(c.nombre_documento),1))),128))])]),r("tbody",null,[(t(!0),o(f,null,g(a(s).estudiantes,c=>(t(),o("tr",{key:c.id},[r("td",J,[i(l,{to:{name:"ver-estudiante",params:{id:c.id}}},{default:d(()=>{var m;return[q(_(c.nombre)+" "+_(c.apellidos)+" ",1),i(B,{dense:"",style:I({backgroundColor:(m=c.carrera)==null?void 0:m.color}),"text-color":"white",icon:"school"},{default:d(()=>{var Q;return[q(_((Q=c.carrera)==null?void 0:Q.abrev),1)]}),_:2},1032,["style"])]}),_:2},1032,["to"])]),(t(!0),o(f,null,g(a(s).documentos,m=>(t(),o("td",{key:m.id,class:"text-center"},[a(s).data[c.id][m.id]===1?(t(),o("span",M,"\u2705")):a(s).data[c.id][m.id]===0?(t(),o("span",O,"\u274C")):h("",!0)]))),128))]))),128))])])])):a(u)?(t(),o("div",U,_(a(y)),1)):h("",!0)])]),_:1})]),_:1})}}});var X=w(W,[["__scopeId","data-v-3254320c"]]);const Y=async()=>{const{data:e}=await C.get("num-residentes-carrera");return e},Z=()=>{const{isLoading:e,isError:s,data:n}=$({queryKey:["num-residentes-carrera"],queryFn:Y});return{isLoading:e,isError:s,data:n}};const ee={class:"fontsize-11 text-center text-weight-light flex items-center"},te={class:"flex items-center justify-between"},se={class:"text-right text-h2"},re=k({__name:"CardCarreras",setup(e){const{data:s,isLoading:n}=Z(),u=N(),y=v=>{u.push({name:"ver-carrera",params:{id:v}})};return(v,R)=>a(n)?(t(),p(z,{key:0,color:"primary",size:"3em",thickness:2})):a(s)?(t(!0),o(f,{key:1},g(a(s),l=>(t(),o("div",{class:"col-xs-12 col-sm-3",key:l.carrera_id},[i(b,{class:"text-white clickable",flat:"",bordered:"",style:I({backgroundColor:l.color}),onClick:c=>y(l.carrera_id)},{default:d(()=>[i(x,null,{default:d(()=>[r("div",ee,_(l.carrera),1),r("div",te,[l.escudo?(t(),p(K,{key:0,src:l.escudo,width:"65px"},null,8,["src"])):h("",!0),r("div",se,_(l.numero_estudiantes),1)])]),_:2},1024)]),_:2},1032,["style","onClick"])]))),128)):h("",!0)}});var ae=w(re,[["__scopeId","data-v-517462d0"]]);const oe=async()=>{const{data:e}=await C.get("num-residentes");return e},ne=()=>{const{isLoading:e,isError:s,data:n}=$({queryKey:["num-residentes"],queryFn:oe});return{isLoading:e,isError:s,data:n}};const ce=e=>(L("data-v-ecd04b30"),e=e(),E(),e),ie={class:"col-xs-12 col-sm-3"},de=ce(()=>r("div",{class:"fontsize-11 text-center text-weight-light flex items-center"}," Residentes ",-1)),le={class:"flex items-center justify-between"},_e={key:1,class:"text-right text-h2 q-pl-md"},ue=k({__name:"CardTotalResidentes",setup(e){const{data:s,isLoading:n}=ne(),u=N(),y=()=>{u.push({name:"listar-residente"})};return(v,R)=>(t(),o("div",ie,[i(b,{class:"bg-primary text-white clickable",flat:"",bordered:"",onClick:y},{default:d(()=>[i(x,null,{default:d(()=>[de,r("div",le,[i(D,{name:"school",color:"cyan",size:"4.4em"}),a(n)?(t(),p(z,{key:0,color:"secondary",size:"3em",thickness:2})):h("",!0),a(s)?(t(),o("div",_e,_(a(s).no_residentes),1)):h("",!0)])]),_:1})]),_:1})]))}});var me=w(ue,[["__scopeId","data-v-ecd04b30"]]);const pe={class:"row q-col-gutter-md"},he={class:"row"},ye={class:"col-12"},Ie=k({__name:"DashboardPage",setup(e){return(s,n)=>(t(),p(T,{padding:""},{default:d(()=>[r("div",pe,[i(me),i(ae)]),r("div",he,[r("div",ye,[i(X)])])]),_:1}))}});export{Ie as default};
