import{Q as R}from"./QPage.bd9db12d.js";import{v as E,x as D,r as w,aM as V,q as a,z as r,t as i,ab as m,d as n,s as c,A as t,ao as b,B as y,aa as l,F,ar as Q,_ as I,C as A,D as P,aq as S,u as k}from"./index.16fafb50.js";import{_ as z}from"./BreadcrumbNav.24a9f6cf.js";import{_ as B}from"./LoaderSpinner.196fa089.js";import{u as T}from"./useRecursoIndividual.f202693b.js";import{Q as v,a as d}from"./QCard.9550f461.js";import{Q as $}from"./QImg.f997db3b.js";import{Q as L,a as C,b as M,_ as j}from"./EntregasEstudiante.ddc11f74.js";import"./documentosApi.d4af84c5.js";import"./axios.a596eead.js";import"./useQuery.esm.48506497.js";import"./useQueryClient.esm.ad4fb503.js";import"./utils.esm.429db25b.js";import"./use-dark.fd3c0586.js";import"./focusout.5c99f0fb.js";import"./focus-manager.05708ea9.js";import"./uid.42677368.js";import"./QBtnGroup.8a143a29.js";import"./QTimeline.d2704c86.js";import"./useMutation.esm.3aac1ad5.js";import"./mutation.esm.54ea4acf.js";import"./DialogEliminar.48da2dec.js";import"./QCardActions.4c1c4976.js";import"./QDialog.82b87909.js";import"./use-prevent-scroll.175dc396.js";import"./ClosePopup.159f4ab9.js";const G=u=>T("/estudiantes",u,["estudiantes",u],{staleTime:1e3*60*60},{included:"user,carrera,empresas,periodos"}),U=E({__name:"FabEstudiante",props:{id:{},isResidente:{type:Boolean}},setup(u){const x=u,e=D(),_=w(!1),p=V(x,"id"),g=()=>{e.push({name:"asignar-residencia",params:{id:p.value}})},f=()=>{e.push({name:"asignar-documento",params:{id:p.value}})},o=()=>{e.push({name:"editar-estudiante",params:{id:p.value}})};return(h,q)=>(a(),r(L,{modelValue:_.value,"onUpdate:modelValue":q[0]||(q[0]=N=>_.value=N),"vertical-actions-align":"right",color:"primary",glossy:"",icon:"keyboard_arrow_up",direction:"up"},{default:i(()=>[h.isResidente?m("",!0):(a(),r(C,{key:0,"label-position":"left",color:"primary",onClick:g,icon:"add_reaction",label:"Asignar residencia"})),n(C,{"label-position":"left",color:"secondary",onClick:o,icon:"edit",label:"Editar"}),h.isResidente?(a(),r(C,{key:1,"label-position":"left",color:"orange",onClick:f,icon:"post_add",label:"Agregar documentos"})):m("",!0)]),_:1},8,["modelValue"]))}});const s=u=>(A("data-v-f7401282"),u=u(),P(),u),H={class:"row"},J={class:"col-xs-12 col-md-6 q-pa-xs"},K={class:"fontsize-14 text-center text-weight-light flex items-center"},O={class:"flex justify-star items-center"},W=s(()=>t("td",null,"N\xFAmero de control:",-1)),X=s(()=>t("td",null,"Carrera:",-1)),Y={key:0},Z=s(()=>t("td",null,"Correo electr\xF3nico",-1)),tt=s(()=>t("td",null,"Tel\xE9fono",-1)),et=s(()=>t("td",null,"Domicilio",-1)),lt=s(()=>t("td",null,"Ciudad",-1)),ot=s(()=>t("td",null,"Seguridad social",-1)),st=s(()=>t("td",null,"N\xFAmero de seguridad social",-1)),nt={class:"col-xs-12 col-md-6 q-pa-xs"},it={class:"fontsize-14 text-center text-weight-light flex items-center"},at=s(()=>t("td",null,"Nombre",-1)),ut={key:0},dt=s(()=>t("td",null,"Correo",-1)),rt={key:0},ct=s(()=>t("div",{class:"absolute-full flex flex-center bg-negative text-white"}," No se logr\xF3 cargar la imagen ",-1)),_t={key:0,class:"row"},mt={class:"col-xs-12 col-md-6 q-pa-xs"},pt={class:"fontsize-13 text-center text-weight-light flex items-center"},ft=s(()=>t("td",null,"Nombre:",-1)),ht=s(()=>t("td",null,"Giro:",-1)),vt=s(()=>t("td",null,"RFC:",-1)),xt=s(()=>t("td",null,"Domicilio:",-1)),gt=s(()=>t("td",null,"Colinia:",-1)),bt=s(()=>t("td",null,"C\xF3digo postal:",-1)),yt=s(()=>t("td",null,"Ciudad:",-1)),kt=s(()=>t("td",null,"Tel\xE9fono:",-1)),Ct=s(()=>t("td",null,"Misi\xF3n:",-1)),Et=s(()=>t("td",null,"Titular:",-1)),qt=s(()=>t("td",null,"Puesto del titular:",-1)),Ft=s(()=>t("td",null,"Asesor externo:",-1)),Qt=s(()=>t("td",null,"Domicilio:",-1)),wt=s(()=>t("td",null,"Nombre del que firmar\xE1:",-1)),Vt=s(()=>t("td",null,"Domicilio:",-1)),Nt={class:"col-xs-12 col-md-6 q-pa-xs"},Rt={class:"fontsize-13 text-center text-weight-light flex items-center"},Dt=s(()=>t("td",null,"Periodo:",-1)),It=s(()=>t("td",null,"Inicio del periodo:",-1)),At=s(()=>t("td",null,"T\xE9rmino del periodo:",-1)),Pt={class:"col-xs-12 col-md-6 q-pa-xs"},St=E({__name:"CardEstudiante",props:{estudiante:{}},setup(u){const e=V(u,"estudiante"),_=w([18,18]);return(p,g)=>{var f;return a(),c("div",null,[t("div",H,[t("div",J,[n(v,null,{default:i(()=>[n(d,null,{default:i(()=>[t("div",K,[n(b,{name:"school",class:"q-mr-xs"}),y(" "+l(e.value.nombre)+" "+l(e.value.apellidos),1)])]),_:1}),n(d,null,{default:i(()=>[t("div",O,[t("table",null,[t("tr",null,[W,t("td",null,l(e.value.numero_control),1)]),t("tr",null,[X,t("td",null,[e.value.carrera?(a(),c("span",Y,l(e.value.carrera.nombre),1)):m("",!0)])]),t("tr",null,[Z,t("td",null,l(e.value.email),1)]),t("tr",null,[tt,t("td",null,l(e.value.telefono==="null"?"":e.value.telefono),1)]),t("tr",null,[et,t("td",null,l(e.value.domicilio==="null"?"":e.value.domicilio),1)]),t("tr",null,[lt,t("td",null,l(e.value.ciudad==="null"?"":e.value.ciudad),1)]),t("tr",null,[ot,t("td",null,l(e.value.seguridad_social==="null"?"":e.value.seguridad_social),1)]),t("tr",null,[st,t("td",null,l(e.value.no_seguridad_social==="null"?"":e.value.no_seguridad_social),1)])])])]),_:1})]),_:1})]),t("div",nt,[n(v,null,{default:i(()=>[n(d,null,{default:i(()=>[t("div",it,[n(b,{name:"account_circle",class:"q-mr-xs"}),y(" Datos de usuario ")])]),_:1}),n(d,null,{default:i(()=>{var o,h;return[t("table",null,[t("tr",null,[at,t("td",null,[e.value.user?(a(),c("span",ut,l(e.value.user.name),1)):m("",!0)])]),t("tr",null,[dt,t("td",null,[e.value.user?(a(),c("span",rt,l(e.value.user.email),1)):m("",!0)])])]),(o=e.value.user)!=null&&o.url_foto?(a(),r($,{key:0,src:(h=e.value.user)==null?void 0:h.url_foto,width:"150px"},{error:i(()=>[ct]),_:1},8,["src"])):m("",!0)]}),_:1})]),_:1})])]),e.value.empresas&&((f=e.value.empresas)==null?void 0:f.length)>0?(a(),c("div",_t,[t("div",mt,[n(v,null,{default:i(()=>[n(d,null,{default:i(()=>[t("div",pt,[n(b,{name:"domain",class:"q-mr-xs"}),y(" Empresa en la que realiza su residencia ")])]),_:1}),(a(!0),c(F,null,Q(e.value.empresas,o=>(a(),r(d,{key:o.id},{default:i(()=>[t("table",null,[t("tr",null,[ft,t("td",null,l(o.nombre),1)]),t("tr",null,[ht,t("td",null,l(o.giro),1)]),t("tr",null,[vt,t("td",null,l(o.rfc),1)]),t("tr",null,[xt,t("td",null,l(o.domicilio),1)]),t("tr",null,[gt,t("td",null,l(o.colonia),1)]),t("tr",null,[bt,t("td",null,l(o.cp),1)]),t("tr",null,[yt,t("td",null,l(o.ciudad),1)]),t("tr",null,[kt,t("td",null,l(o.telefono),1)]),t("tr",null,[Ct,t("td",null,l(o.mision),1)]),t("tr",null,[Et,t("td",null,l(o.titular),1)]),t("tr",null,[qt,t("td",null,l(o.titular_puesto),1)]),t("tr",null,[Ft,t("td",null,l(o.asesor_externo),1)]),t("tr",null,[Qt,t("td",null,l(o.asesor_externo_puesto),1)]),t("tr",null,[wt,t("td",null,l(o.nombre_firmara),1)]),t("tr",null,[Vt,t("td",null,l(o.nombre_firmara_puesto),1)])])]),_:2},1024))),128))]),_:1})]),t("div",Nt,[n(v,null,{default:i(()=>[n(d,null,{default:i(()=>[t("div",Rt,[n(b,{name:"domain",class:"q-mr-xs"}),y(" Periodo de residencia ")])]),_:1}),(a(!0),c(F,null,Q(e.value.periodos,o=>(a(),r(d,{key:o.id},{default:i(()=>[t("table",null,[t("tr",null,[Dt,t("td",null,l(o.nombre),1)]),t("tr",null,[It,t("td",null,l(o.fecha_inicio),1)]),t("tr",null,[At,t("td",null,l(o.fecha_termino),1)])])]),_:2},1024))),128))]),_:1})]),t("div",Pt,[n(v,null,{default:i(()=>[n(d,null,{default:i(()=>[n(j,{id:e.value.id},null,8,["id"])]),_:1})]),_:1})])])):m("",!0),n(M,{position:"bottom-right",offset:_.value},{default:i(()=>{var o;return[n(U,{id:e.value.id,"is-residente":e.value.empresas&&((o=e.value.empresas)==null?void 0:o.length)>0},null,8,["id","is-residente"])]}),_:1},8,["offset"])])}}});var zt=I(St,[["__scopeId","data-v-f7401282"]]);const Bt={key:2},ce=E({__name:"VerEstudiante",setup(u){const x=S(),{id:e=""}=x.params,{resource:_,isLoading:p,error:g}=G(e+""),f=[{label:"Estudiantes",icon:"school",to:"listar-estudiante"},{label:"Ver estudiante",icon:"visibility"}];return(o,h)=>(a(),r(R,{padding:""},{default:i(()=>[n(z,{pages:f,titlePage:"Ver Estudiante"}),k(p)?(a(),r(B,{key:0})):k(_)?(a(),r(zt,{key:1,estudiante:k(_)},null,8,["estudiante"])):(a(),c("div",Bt,l(k(g)),1))]),_:1}))}});export{ce as default};
