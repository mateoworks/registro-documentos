import{d}from"./documentosApi.d4af84c5.js";import{r as f,x as v}from"./index.16fafb50.js";import{u as C}from"./useQueryClient.esm.ad4fb503.js";import{u as h}from"./useMutation.esm.3aac1ad5.js";const w=(t,a)=>{const n=C(),s=f(null),c=async r=>{try{console.log("En el json",r);const{data:e}=await d.post(t,r);return e}catch(e){throw e}},u=t.replace(/^\//,""),i=v(),{mutate:l,isLoading:m,error:p,isSuccess:y}=h(c,{onSuccess:()=>{n.invalidateQueries({queryKey:[u],exact:!1}),i.push({name:a})},onError:r=>{var e;r.response?s.value=(e=r.response)==null?void 0:e.data:s.value=r}});return{createResource:l,isLoadingCreate:m,error:p,errorServer:s,isSuccess:y}},x=(t,a)=>{const n=C(),s=f(null),c=v(),u=async e=>{try{const{data:o}=await d.post(t,e,{headers:{"Content-Type":"multipart/form-data"}});return o}catch(o){throw o}},i=t.replace(/^\//,""),{mutate:l,isLoading:m,error:p,isSuccess:y,status:r}=h(u,{onSuccess:()=>{n.invalidateQueries({queryKey:[i],exact:!1}),c.push({name:a})},onError:e=>{var o;e.response?s.value=(o=e.response)==null?void 0:o.data:s.value=e}});return{createResource:l,isLoadingCreate:m,error:p,errorServer:s,isSuccess:y,status:r}};export{w as a,x as u};
