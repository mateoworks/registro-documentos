import{v as B,aq as z,r as Q,aW as C,w as R,y as A,q as r,z as p,t as o,d as a,A as n,aa as t,u as f,s as m,F as w,ar as F,ap as b,B as i,Q as k,ab as L,aR as N}from"./index.16fafb50.js";import{Q as S}from"./QChip.fc1367d4.js";import{Q as V,a as E}from"./QCard.9550f461.js";import{Q as P}from"./QPage.bd9db12d.js";import{_ as T}from"./BreadcrumbNav.24a9f6cf.js";import{_ as $}from"./LoaderSpinner.196fa089.js";import{d as D}from"./documentosApi.d4af84c5.js";import{u as K}from"./useQuery.esm.48506497.js";import"./use-dark.fd3c0586.js";import"./axios.a596eead.js";import"./useQueryClient.esm.ad4fb503.js";import"./utils.esm.429db25b.js";const U=async _=>{const{data:u}=await D.get("buscar-estudiante",{params:{q:_}});return u},W=_=>{const{isLoading:u,error:d,data:v,refetch:y}=K({queryKey:["buscar-estudiante"],queryFn:()=>U(_)});return{isLoading:u,error:d,data:v,buscar:l=>{_=l,y()}}},j={class:"fontsize-12"},G={key:1},H={class:"flex items-center q-gutter-sm"},I=["src"],J={class:"fontsize-14"},M={key:0},O={key:1},X={key:2},Y={key:2},me=B({__name:"ResultadosBusqueda",setup(_){const u=z(),d=Q(u.query.q||"");C((c,g,s)=>{c.query.q!==d.value&&(d.value=c.query.q||""),s()});const v=[{label:"B\xFAsqueda",icon:"search"}],{isLoading:y,error:q,data:l,buscar:x}=W(d.value+"");return R(d,(c,g)=>{c!==g&&x(c+"")}),(c,g)=>{const s=A("RouterLink");return r(),p(P,{padding:""},{default:o(()=>{var h;return[a(T,{pages:v,titlePage:"Resultados de b\xFAsqueda"}),n("div",j,"Termino buscado: "+t(d.value),1),f(y)?(r(),p($,{key:0})):f(l)&&((h=f(l))==null?void 0:h.length)>0?(r(),m("div",G,[n("small",null,"Se encontraron "+t(f(l).length)+" resultados",1),(r(!0),m(w,null,F(f(l),e=>(r(),p(V,{key:e.id_estudiante,class:"q-mt-sm"},{default:o(()=>[a(E,null,{default:o(()=>[n("div",H,[n("div",null,[e.url_foto?(r(),p(b,{key:0,size:"70px",color:"primary","text-color":"white"},{default:o(()=>[n("img",{src:e.url_foto},null,8,I)]),_:2},1024)):(r(),p(b,{key:1,size:"70px",color:"primary","text-color":"white"},{default:o(()=>[i(t(e.iniciales_nombre_apellido),1)]),_:2},1024))]),n("div",null,[a(s,{to:{name:"ver-estudiante",params:{id:e.id_estudiante}}},{default:o(()=>[n("div",J,t(e.nombre_completo_estudiante)+" ["+t(e.numero_control_estudiante)+"] ",1)]),_:2},1032,["to"]),e.perido_activo===1?(r(),m("div",M,[i(" Esta realizando su residencia en "),a(s,{to:{name:"ver-empresa",params:{id:e.id_empresa}}},{default:o(()=>[i(t(e.nombre_empresa),1)]),_:2},1032,["to"]),i(" en el perido activo "),a(s,{to:{name:"ver-periodo",params:{id:e.id_periodo}}},{default:o(()=>[i(t(e.nombre_periodo),1)]),_:2},1032,["to"]),n("div",null,[a(s,{to:{name:"asignar-documento",params:{id:e.id_estudiante}}},{default:o(()=>[a(k,{size:"sm",color:"secondary",label:"Agregar documentos"})]),_:2},1032,["to"])])])):e.perido_activo===0?(r(),m("div",O,[i(" Realiz\xF3 su residencia profesional en "),a(s,{to:{name:"ver-empresa",params:{id:e.id_empresa}}},{default:o(()=>[i(t(e.nombre_empresa),1)]),_:2},1032,["to"]),i(" en el perido "),a(s,{to:{name:"ver-periodo",params:{id:e.id_periodo}}},{default:o(()=>[i(t(e.nombre_periodo),1)]),_:2},1032,["to"])])):e.perido_activo===null?(r(),m("div",X,[a(s,{to:{name:"asignar-residencia",params:{id:e.id_estudiante}}},{default:o(()=>[a(k,{size:"sm",color:"deep-orange",label:"Asignar residencia"})]),_:2},1032,["to"])])):L("",!0),a(s,{to:{name:"ver-carrera",params:{id:e.id_carrera}}},{default:o(()=>[a(S,{style:N({backgroundColor:e.color_carrera}),"text-color":"white"},{default:o(()=>[i(t(e.nombre_carrera),1)]),_:2},1032,["style"])]),_:2},1032,["to"])])])]),_:2},1024)]),_:2},1024))),128))])):(r(),m("div",Y,"No se encontraron resultados"))]}),_:1})}}});export{me as default};
