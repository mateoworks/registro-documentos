import{b as P,u as T}from"./index.16fafb50.js";class g{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const n={listener:t};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const M=typeof window=="undefined"||"Deno"in window;function Z(){}function ee(e,t){return typeof e=="function"?e(t):e}function te(e){return typeof e=="number"&&e>=0&&e!==1/0}function ne(e,t){return Math.max(e+(t||0)-Date.now(),0)}function re(e,t,n){return b(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function se(e,t,n){return b(e)?[{...t,queryKey:e},n]:[e||{},t]}function ie(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:u,queryKey:c,stale:f}=e;if(b(c)){if(r){if(t.queryHash!==_(c,t.options))return!1}else if(!R(t.queryKey,c))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||typeof s!="undefined"&&s!==t.state.fetchStatus||u&&!u(t))}function oe(e,t){const{exact:n,fetching:r,predicate:s,mutationKey:u}=e;if(b(u)){if(!t.options.mutationKey)return!1;if(n){if(O(t.options.mutationKey)!==O(u))return!1}else if(!R(t.options.mutationKey,u))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||s&&!s(t))}function _(e,t){return((t==null?void 0:t.queryKeyHashFn)||O)(e)}function O(e){return JSON.stringify(e,(t,n)=>m(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function R(e,t){return U(e,t)}function U(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!U(e[n],t[n])):!1}function q(e,t){if(e===t)return e;const n=A(e)&&A(t);if(n||m(e)&&m(t)){const r=n?e.length:Object.keys(e).length,s=n?t:Object.keys(t),u=s.length,c=n?[]:{};let f=0;for(let a=0;a<u;a++){const y=n?a:s[a];c[y]=q(e[y],t[y]),c[y]===e[y]&&f++}return r===u&&f===r?e:c}return t}function ue(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function A(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function m(e){if(!L(e))return!1;const t=e.constructor;if(typeof t=="undefined")return!0;const n=t.prototype;return!(!L(n)||!n.hasOwnProperty("isPrototypeOf"))}function L(e){return Object.prototype.toString.call(e)==="[object Object]"}function b(e){return Array.isArray(e)}function D(e){return new Promise(t=>{setTimeout(t,e)})}function K(e){D(0).then(e)}function ce(){if(typeof AbortController=="function")return new AbortController}function le(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?q(e,t):t}class V extends g{constructor(){super(),this.setup=t=>{if(!M&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const $=new V,C=["online","offline"];class H extends g{constructor(){super(),this.setup=t=>{if(!M&&window.addEventListener){const n=()=>t();return C.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{C.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine}}const N=new H;function Y(e){return Math.min(1e3*2**e,3e4)}function z(e){return(e!=null?e:"online")==="online"?N.isOnline():!0}class Q{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function fe(e){return e instanceof Q}function ae(e){let t=!1,n=0,r=!1,s,u,c;const f=new Promise((o,l)=>{u=o,c=l}),a=o=>{r||(v(new Q(o)),e.abort==null||e.abort())},y=()=>{t=!0},i=()=>{t=!1},h=()=>!$.isFocused()||e.networkMode!=="always"&&!N.isOnline(),x=o=>{r||(r=!0,e.onSuccess==null||e.onSuccess(o),s==null||s(),u(o))},v=o=>{r||(r=!0,e.onError==null||e.onError(o),s==null||s(),c(o))},S=()=>new Promise(o=>{s=l=>{const d=r||!h();return d&&o(l),d},e.onPause==null||e.onPause()}).then(()=>{s=void 0,r||e.onContinue==null||e.onContinue()}),w=()=>{if(r)return;let o;try{o=e.fn()}catch(l){o=Promise.reject(l)}Promise.resolve(o).then(x).catch(l=>{var d,F;if(r)return;const p=(d=e.retry)!=null?d:3,E=(F=e.retryDelay)!=null?F:Y,k=typeof E=="function"?E(n,l):E,I=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,l);if(t||!I){v(l);return}n++,e.onFail==null||e.onFail(n,l),D(k).then(()=>{if(h())return S()}).then(()=>{t?v(l):w()})})};return z(e.networkMode)?w():S().then(w),{promise:f,cancel:a,continue:()=>(s==null?void 0:s())?f:Promise.resolve(),cancelRetry:y,continueRetry:i}}function B(){let e=[],t=0,n=i=>{i()},r=i=>{i()};const s=i=>{let h;t++;try{h=i()}finally{t--,t||f()}return h},u=i=>{t?e.push(i):K(()=>{n(i)})},c=i=>(...h)=>{u(()=>{i(...h)})},f=()=>{const i=e;e=[],i.length&&K(()=>{r(()=>{i.forEach(h=>{n(h)})})})};return{batch:s,batchCalls:c,schedule:u,setNotifyFunction:i=>{n=i},setBatchNotifyFunction:i=>{r=i}}}const he=B(),J="VUE_QUERY_CLIENT";function ye(e){const t=e?":"+e:"";return""+J+t}function de(e){return Array.isArray(e)}function pe(e){return Array.isArray(e)}function be(e,t){Object.keys(e).forEach(n=>{e[n]=t[n]})}function j(e,t){if(t){const n=t(e);if(n!==void 0||P(e))return n}if(Array.isArray(e))return e.map(n=>j(n,t));if(typeof e=="object"&&W(e)){const n=Object.entries(e).map(([r,s])=>[r,j(s,t)]);return Object.fromEntries(n)}return e}function G(e){return j(e,t=>{if(P(t))return G(T(t))})}function W(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function ve(e,t){return typeof e=="function"?e(...t):!!e}export{pe as A,g as S,he as a,z as b,ae as c,oe as d,re as e,$ as f,ce as g,_ as h,fe as i,ee as j,O as k,R as l,ie as m,Z as n,N as o,se as p,G as q,le as r,de as s,ne as t,ye as u,M as v,te as w,ue as x,be as y,ve as z};
