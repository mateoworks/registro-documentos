import{Q as F}from"./QPage.bd9db12d.js";import{v as b,aM as z,x as L,q as o,s as u,u as l,z as c,ab as C,d as a,t as r,_ as B,A as e,Q as w,F as q,ar as P,ap as R,B as f,aa as s,aR as E,C as I,D as M,ao as Y,aq as T}from"./index.16fafb50.js";import{_ as j}from"./BreadcrumbNav.24a9f6cf.js";import{_ as N}from"./LoaderSpinner.196fa089.js";import{u as U}from"./useVerCarrera.95755006.js";import{Q as V,a as _}from"./QCard.9550f461.js";import{Q as S}from"./QImg.f997db3b.js";import{Q as D}from"./QChip.fc1367d4.js";import{Q as G}from"./QBtnGroup.8a143a29.js";import{Q as K}from"./QMarkupTable.c292dae4.js";import{d as H}from"./documentosApi.d4af84c5.js";import{u as J}from"./useQuery.esm.48506497.js";import{d as g}from"./date.eb8942c3.js";import"./useRecursoIndividual.f202693b.js";import"./use-dark.fd3c0586.js";import"./axios.a596eead.js";import"./useQueryClient.esm.ad4fb503.js";import"./utils.esm.429db25b.js";import"./format.2bc25e5f.js";const k=n=>(I("data-v-8a2a485c"),n=n(),M(),n),O={key:1},W=k(()=>e("div",{class:"fontsize-11"},"Residentes en el periodo actual",-1)),X={class:"flex justify-end"},Z=k(()=>e("thead",null,[e("tr",null,[e("th",null,"Estudiante"),e("th",null,"Empresa"),e("th",null,"Proyecto"),e("th",null,"Acciones")])],-1)),ee={class:"flex items-center q-gutter-sm"},te={class:"columna-ancho-maximo"},ae={class:"columna-ancho-maximo"},re={key:2},oe=k(()=>e("div",{class:"fontsize-11"}," No hay residentes de esta carrera en este periodo ",-1)),se=[oe],le=b({__name:"ResidentesCarrera",props:{id:{}},setup(n){const t=z(n,"id"),v=async()=>{const{data:p}=await H.get("/residentes-por-carrera/"+t.value);return p},{isLoading:h,data:i}=J({queryKey:["residentes",t.value],queryFn:()=>v(),keepPreviousData:!0,staleTime:1e3*60*60}),x=L(),Q=p=>{x.push({name:"ver-residente",params:{id:p}})},$="http://registro-documentos.test/api",A=()=>{const p=$+"/residentes-export-pdf-carrera/"+t.value;window.open(p,"_blank")};return(p,we)=>(o(),u("div",null,[l(h)?(o(),c(N,{key:0})):C("",!0),l(i)&&l(i).length>0?(o(),u("div",O,[a(V,null,{default:r(()=>[a(_,null,{default:r(()=>[W]),_:1}),a(_,null,{default:r(()=>[e("div",X,[e("div",null,[a(w,{round:"",icon:"picture_as_pdf",color:"negative",size:"sm",onClick:A})])]),a(K,null,{default:r(()=>[Z,e("tbody",null,[(o(!0),u(q,null,P(l(i),d=>(o(),u("tr",{key:d.estudiante_id},[e("td",null,[e("div",ee,[e("div",null,[d.url_foto?(o(),c(R,{key:0},{default:r(()=>[a(S,{src:d.url_foto},null,8,["src"])]),_:2},1024)):(o(),c(R,{key:1,color:"primary","text-color":"white"},{default:r(()=>[f(s(d.iniciales_nombre_apellido),1)]),_:2},1024))]),e("div",null,[e("div",null,s(d.nombre_completo),1),e("div",null,[a(D,{dense:"",style:E({backgroundColor:d.color_carrera}),"text-color":"white"},{default:r(()=>[f(s(d.nombre_carrera),1)]),_:2},1032,["style"]),a(D,{dense:"",color:"teal","text-color":"white",icon:"call"},{default:r(()=>[f(s(d.telefono_estudiante),1)]),_:2},1024)])])])]),e("td",te,s(d.nombre_empresa),1),e("td",ae,s(d.proyecto),1),e("td",null,[a(G,{push:""},{default:r(()=>[a(w,{size:"sm",color:"info",push:"",glossy:"",icon:"visibility",onClick:Re=>Q(d.estudiante_id)},null,8,["onClick"])]),_:2},1024)])]))),128))])]),_:1})]),_:1})]),_:1})])):l(i)&&l(i).length===0?(o(),u("div",re,se)):C("",!0)]))}});var ne=B(le,[["__scopeId","data-v-8a2a485c"]]);const m=n=>(I("data-v-7842d333"),n=n(),M(),n),de={class:"row"},ce={class:"col-xs-12 col-md-6"},ie={class:"fontsize-14 text-center text-weight-light flex items-center"},ue={class:"flex justify-star items-center"},_e=m(()=>e("td",null,"Clave de la carrera:",-1)),me=m(()=>e("td",null,"Fecha de registro en la BD:",-1)),pe=m(()=>e("td",null,"\xDAltima actualizaci\xF3n en la BD:",-1)),fe={class:"col-xs-12 col-md-6"},he={class:"fontsize-14 text-center text-weight-light flex items-center"},ve=m(()=>e("td",null,"Nombre del departamento:",-1)),ye=m(()=>e("td",null,"Nombre del titular:",-1)),xe=m(()=>e("td",null,"Apellidos titular:",-1)),ge=m(()=>e("td",null,"Fecha de registro:",-1)),Ce={class:"row q-mt-md"},be={class:"col-12"},ke=b({__name:"CardCarrera",props:{carrera:{}},setup(n){const t=z(n,"carrera");return(v,h)=>(o(),u(q,null,[a(V,null,{default:r(()=>[e("div",de,[e("div",ce,[a(_,null,{default:r(()=>[e("div",ie,[a(Y,{name:"local_library",class:"q-mr-xs"}),f(" "+s(t.value.nombre),1)])]),_:1}),a(_,null,{default:r(()=>[e("div",ue,[t.value.escudo?(o(),c(S,{key:0,src:t.value.escudo,width:"150px"},null,8,["src"])):C("",!0),e("table",null,[e("tr",null,[_e,e("td",null,s(t.value.clave),1)]),e("tr",null,[me,e("td",null,s(l(g).formatDate(t.value.created_at,"d/MM/YYYY")),1)]),e("tr",null,[pe,e("td",null,s(l(g).formatDate(t.value.updated_at,"d/MM/YYYY")),1)])])])]),_:1})]),e("div",fe,[a(_,null,{default:r(()=>[e("div",he,[a(Y,{name:"account_balance",class:"q-mr-xs"}),f(" Departamento ")])]),_:1}),t.value.departamento?(o(),c(_,{key:0},{default:r(()=>[e("table",null,[e("tr",null,[ve,e("td",null,s(t.value.departamento.nombre),1)]),e("tr",null,[ye,e("td",null,s(t.value.departamento.nombre_titular),1)]),e("tr",null,[xe,e("td",null,s(t.value.departamento.apellidos_titular),1)]),e("tr",null,[ge,e("td",null,s(l(g).formatDate(t.value.departamento.created_at,"d/MM/YYYY")),1)])])]),_:1})):(o(),c(_,{key:1},{default:r(()=>[f(" No hay departamento asignado ")]),_:1}))])])]),_:1}),e("div",Ce,[e("div",be,[a(ne,{id:t.value.id},null,8,["id"])])])],64))}});var Qe=B(ke,[["__scopeId","data-v-7842d333"]]);const $e={key:2},Ke=b({__name:"VerCarrera",setup(n){const y=[{label:"Carreras",icon:"local_library",to:"listar-carrera"},{label:"Ver carrera",icon:"visibility"}],t=T(),{id:v=""}=t.params,{resource:h,isLoading:i,error:x}=U(v+"");return(Q,$)=>(o(),c(F,{padding:""},{default:r(()=>[a(j,{pages:y,titlePage:"Ver carrera"}),l(i)?(o(),c(N,{key:0})):l(h)?(o(),c(Qe,{key:1,carrera:l(h)},null,8,["carrera"])):(o(),u("div",$e,s(l(x)),1))]),_:1}))}});export{Ke as default};
