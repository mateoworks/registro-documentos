import{Q as N,a as g}from"./QCard.9550f461.js";import{Q as D}from"./QBanner.f76ac382.js";import{Q as p}from"./QInput.ec90feeb.js";import{v as E,aM as v,r as f,c as L,q as n,z as V,t as o,d as a,A as l,B as d,aa as b,u as M,s as Q,ar as P,F as T,ab as j,ao as x,as as y,Q as _,ac as z}from"./index.16fafb50.js";import{Q as k}from"./QDate.75e05ac0.js";import{Q as w}from"./QPopupProxy.2db034ac.js";import{Q as A}from"./QToggle.31e3c23d.js";import{Q as G}from"./QForm.5f43623c.js";import{C}from"./ClosePopup.159f4ab9.js";import{g as R}from"./errorUtils.9be85d5d.js";const H=l("div",{class:"fontsize-15 text-weight-light"},"Introduce los datos",-1),J={class:"row q-col-gutter-md"},K={class:"col-12"},O={class:"col-xs-12 col-sm-12"},W=l("span",{class:"required-star"},"*",-1),X={class:"col-xs-12 col-sm-6"},Y=l("span",{class:"required-star"},"*",-1),Z={class:"row items-center justify-end"},$={class:"col-xs-12 col-sm-6"},ee=l("span",{class:"required-star"},"*",-1),oe={class:"row items-center justify-end"},ae={class:"col-xs-12 col-sm-6"},le={class:"col-xs-12 col-sm-7"},fe=E({__name:"FormPeriodo",props:{periodo:{},loading:{type:Boolean},errorServer:{}},emits:["guardar"],setup(q,{emit:B}){const u=q,t=v(u,"periodo"),S=v(u,"loading"),c=v(u,"errorServer"),F=c.value,r=f(t.value.fecha_inicio+""),i=f(t.value.fecha_termino+""),m=f(!!t.value.activo),U=()=>{t.value.fecha_inicio=r.value,t.value.fecha_termino=i.value,t.value.activo=m.value,B("guardar",t.value)},I=L(()=>R(c.value));return(se,s)=>(n(),V(N,null,{default:o(()=>[a(g,null,{default:o(()=>[H]),_:1}),a(G,{onSubmit:z(U,["prevent"])},{default:o(()=>[a(g,null,{default:o(()=>[l("div",J,[l("div",K,[c.value?(n(),V(D,{key:0,"inline-actions":"",class:"text-white bg-red"},{default:o(()=>{var e;return[d(b(((e=M(F))==null?void 0:e.message)||"")+" ",1),l("ul",null,[(n(!0),Q(T,null,P(I.value,h=>(n(),Q("li",{key:h},b(h),1))),128))])]}),_:1})):j("",!0)]),l("div",O,[a(p,{modelValue:t.value.nombre,"onUpdate:modelValue":s[0]||(s[0]=e=>t.value.nombre=e),"label-slot":"",rules:[e=>!!e||"El nombre del periodo es requerido",e=>e.length>3&&e.length<255||"Debe tener m\xE1s de 3 caracteres y menos de 255"]},{label:o(()=>[d(" Nombre del periodo "),W]),_:1},8,["modelValue","rules"])]),l("div",X,[a(p,{modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=e=>r.value=e),mask:"date",rules:[e=>!!e||"La fecha de termino es requerido"],"label-slot":""},{label:o(()=>[d(" Fecha de inicio del periodo "),Y]),append:o(()=>[a(x,{name:"event",class:"cursor-pointer"},{default:o(()=>[a(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[a(k,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=e=>r.value=e)},{default:o(()=>[l("div",Z,[y(a(_,{label:"Close",color:"primary",flat:""},null,512),[[C]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),l("div",$,[a(p,{modelValue:i.value,"onUpdate:modelValue":s[4]||(s[4]=e=>i.value=e),mask:"date",rules:[e=>!!e||"La fecha de termino requerida"],"label-slot":""},{label:o(()=>[d(" Fecha de termino del periodo "),ee]),append:o(()=>[a(x,{name:"event",class:"cursor-pointer"},{default:o(()=>[a(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[a(k,{modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=e=>i.value=e)},{default:o(()=>[l("div",oe,[y(a(_,{label:"Close",color:"primary",flat:""},null,512),[[C]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),l("div",ae,[a(A,{modelValue:m.value,"onUpdate:modelValue":s[5]||(s[5]=e=>m.value=e),"checked-icon":"check",color:"green",label:"Inactivo / Activo","unchecked-icon":"clear"},null,8,["modelValue"])]),l("div",le,[a(_,{label:"Guardar",color:"primary",type:"submit",loading:S.value},null,8,["loading"])])])]),_:1})]),_:1},8,["onSubmit"])]),_:1}))}});export{fe as _};
