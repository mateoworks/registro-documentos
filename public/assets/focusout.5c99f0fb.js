import{w as D,a5 as _,o as j,g as $,U as w,ah as q,l as A,aj as S,aA as b,r as F,a as G,af as K,h as L,aB as O,aC as B,aD as I,c as M,aE as N,W as U}from"./index.16fafb50.js";import{b as y,c as W}from"./focus-manager.05708ea9.js";const ee={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},te=["beforeShow","show","beforeHide","hide"];function ne({showing:e,canShow:t,hideOnRouteChange:o,handleShow:a,handleHide:i,processOnMount:c}){const r=$(),{props:l,emit:s,proxy:h}=r;let u;function v(n){e.value===!0?T(n):g(n)}function g(n){if(l.disable===!0||n!==void 0&&n.qAnchorHandled===!0||t!==void 0&&t(n)!==!0)return;const m=l["onUpdate:modelValue"]!==void 0;m===!0&&(s("update:modelValue",!0),u=n,w(()=>{u===n&&(u=void 0)})),(l.modelValue===null||m===!1)&&E(n)}function E(n){e.value!==!0&&(e.value=!0,s("beforeShow",n),a!==void 0?a(n):s("show",n))}function T(n){if(l.disable===!0)return;const m=l["onUpdate:modelValue"]!==void 0;m===!0&&(s("update:modelValue",!1),u=n,w(()=>{u===n&&(u=void 0)})),(l.modelValue===null||m===!1)&&V(n)}function V(n){e.value!==!1&&(e.value=!1,s("beforeHide",n),i!==void 0?i(n):s("hide",n))}function k(n){l.disable===!0&&n===!0?l["onUpdate:modelValue"]!==void 0&&s("update:modelValue",!1):n===!0!==e.value&&(n===!0?E:V)(u)}D(()=>l.modelValue,k),o!==void 0&&_(r)===!0&&D(()=>h.$route.fullPath,()=>{o.value===!0&&e.value===!0&&T()}),c===!0&&j(()=>{k(l.modelValue)});const C={show:g,hide:T,toggle:v};return Object.assign(h,C),C}function oe(){let e=null;const t=$();function o(){e!==null&&(clearTimeout(e),e=null)}return q(o),A(o),{removeTimeout:o,registerTimeout(a,i){o(),S(t)===!1&&(e=setTimeout(a,i))}}}const P=[];function ae(e){return P.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function z(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return b(e)}else if(e.__qPortal===!0){const o=b(e);return o!==void 0&&o.$options.name==="QPopupProxy"?(e.hide(t),o):e}e=b(e)}while(e!=null)}function ie(e,t,o){for(;o!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(o--,e.$options.name==="QMenu"){e=z(e,t);continue}e.hide(t)}e=b(e)}}function J(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function le(e,t,o,a){const i=F(!1),c=F(!1);let r=null;const l={},s=a==="dialog"&&J(e);function h(v){if(v===!0){y(l),c.value=!0;return}c.value=!1,i.value===!1&&(s===!1&&r===null&&(r=B(!1,a)),i.value=!0,P.push(e.proxy),W(l))}function u(v){if(c.value=!1,v!==!0)return;y(l),i.value=!1;const g=P.indexOf(e.proxy);g!==-1&&P.splice(g,1),r!==null&&(I(r),r=null)}return G(()=>{u(!0)}),e.proxy.__qPortal=!0,K(e.proxy,"contentEl",()=>t.value),{showPortal:h,hidePortal:u,portalIsActive:i,portalIsAccessible:c,renderPortal:()=>s===!0?o():i.value===!0?[L(O,{to:r},o())]:void 0}}const se={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ue(e,t=()=>{},o=()=>{}){return{transitionProps:M(()=>{const a=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${a}-enter-from`,enterActiveClass:`${a}-enter-active`,enterToClass:`${a}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:M(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function re(){let e;const t=$();function o(){e=void 0}return q(o),A(o),{removeTick:o,registerTick(a){e=a,w(()=>{e===a&&(S(t)===!1&&e(),e=void 0)})}}}const f=[];let p;function R(e){p=e.keyCode===27}function X(){p===!0&&(p=!1)}function Y(e){p===!0&&(p=!1,N(e,27)===!0&&f[f.length-1](e))}function H(e){window[e]("keydown",R),window[e]("blur",X),window[e]("keyup",Y),p=!1}function fe(e){U.is.desktop===!0&&(f.push(e),f.length===1&&H("addEventListener"))}function de(e){const t=f.indexOf(e);t>-1&&(f.splice(t,1),f.length===0&&H("removeEventListener"))}const d=[];function Q(e){d[d.length-1](e)}function ce(e){U.is.desktop===!0&&(d.push(e),d.length===1&&document.body.addEventListener("focusin",Q))}function me(e){const t=d.indexOf(e);t>-1&&(d.splice(t,1),d.length===0&&document.body.removeEventListener("focusin",Q))}export{te as a,oe as b,ne as c,se as d,re as e,ue as f,le as g,ce as h,de as i,fe as j,z as k,ae as l,ie as m,P as p,me as r,ee as u};
